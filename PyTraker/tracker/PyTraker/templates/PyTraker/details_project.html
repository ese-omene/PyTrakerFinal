{% extends "PyTraker/header.html" %}

{% block content %}
    <br><br>
        <a href="/PyTraker/index">Home</a>
<div class="container">
<div class="card">
  <h5 class="card-header">Project Details for: {{ project.name }}</h5>
  <div class="card-body">
    <h5 class="card-title">Client: {{ project.clientID }}</h5>
    <p class="card-text">Description: {{ project.description }}</p>
          <p class="card-text">Start Date: {{ project.startDate.date }}</p>
          <p class="card-text">Due Date: {{ project.dueDate.date }}</p>
          <p class="card-text">Rate: ${{ project.payRate }}</p>



    <a href="/PyTraker/edit_project/{{ project.id }}" class="btn btn-warning">Edit</a>
    <a href="/PyTraker/delete_project/{{ project.id }}"  class="btn btn-danger"  id ='{{project.id}}'>Delete</a>
      <!--Check if an invoice exist -->
      {% if invoice == 'false' %}
      <a href="/PyTraker/new_invoice/" class="btn btn-info">Create Invoice</a>

      {% else %}

      <a href="/PyTraker/invoice/{{ project.id }}" class="btn btn-info">View Invoice</a>
    {% endif %}

  </div>
</div>
    <div class="card">
        <h5 class="card-header">Current tasks for {{ project.name }}</h5>
        <div class="card-body">
        {% if tasks %}
            <div class="list-group list-group-flush">
        {% for tasks in tasks %}

        <p class="list-group-item list-group-item-action"><a href="/PyTraker/task_detail/{{ tasks.id }}" class="d-inline-flex p-2">{{ tasks.name }}</a>
            <span><a href="/PyTraker/change_status/{{ tasks.id }}" class="d-inline-flex p-2 btn btn-success btn-circle float-right">&check;</a></span></p>
        {% endfor %}

        </div>
        {% else %}
            <p>You don't have any tasks yet! <a href="/PyTraker/new_task">Add a task.</a></p>
        {% endif %}
        </div>
    </div>
</div>
{% endblock %}